{% extends 'base.html.twig' %}

{% block title %}Fiche Élève : {{ eleve.prenom }} {{ eleve.nom }}{% endblock %}

{% block body %}

<div class="show-container">
    <h1><i class="fa-solid fa-user-graduate"></i> Élève : {{ eleve.prenom }} {{ eleve.nom }}</h1>

    <div class="info-grid">

        {# --- IDENTITÉ --- #}
        <div class="info-item">
            <span class="info-label"><i class="fa-solid fa-user"></i> Nom</span>
            <span class="info-value">{{ eleve.nom }}</span>
        </div>

        <div class="info-item">
            <span class="info-label"><i class="fa-regular fa-user"></i> Prénom</span>
            <span class="info-value">{{ eleve.prenom }}</span>
        </div>

        {# --- CONTACT --- #}
        <div class="info-item">
            <span class="info-label"><i class="fa-solid fa-envelope"></i> Email</span>
            <span class="info-value">{{ eleve.mail }}</span>
        </div>

        <div class="info-item">
            <span class="info-label"><i class="fa-solid fa-phone"></i> Téléphone</span>
            <span class="info-value">{{ eleve.tel }}</span>
        </div>

        {# --- ADRESSE (Regroupée pour plus de lisibilité) --- #}
        <div class="info-item" style="grid-column: 1 / -1;">
            <span class="info-label"><i class="fa-solid fa-location-dot"></i> Adresse Complète</span>
            <span class="info-value">
                {{ eleve.numRue }} {{ eleve.rue }}<br>
                {{ eleve.copos }} {{ eleve.ville }}
            </span>
        </div>

        {# --- RESPONSABLES --- #}
        <div class="info-item" style="grid-column: 1 / -1;">
            <span class="info-label"><i class="fa-solid fa-users-rays"></i> Responsable(s)</span>
            <div class="info-value list-chips">
                {% if eleve.responsable is not empty %}
                    {% for responsable in eleve.responsable %}
                        <span class="chip">
                            <i class="fa-solid fa-user-shield"></i> {{ responsable.prenom }} {{ responsable.nom|default('') }}
                        </span>
                    {% endfor %}
                {% else %}
                    <span style="color: #999; font-style: italic;">Aucun responsable associé</span>
                {% endif %}
            </div>
        </div>

    </div>

    {# --- ACTIONS --- #}
    <div class="actions">
        {# Bouton Retour #}
        <a href="{{ path('app_eleve_index') }}" class="btn-action btn-back">
            <i class="fa-solid fa-arrow-left"></i> Retour à la liste
        </a>

        {# Bouton Modifier #}
        <a href="{{ path('app_eleve_edit', {'id': eleve.id}) }}" class="btn-action btn-edit">
            <i class="fa-solid fa-pen-to-square"></i> Modifier
        </a>

        {# Bouton Supprimer #}
        {{ include('eleve/_delete_form.html.twig') }}
    </div>

</div>
{% endblock %}