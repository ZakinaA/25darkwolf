{% extends 'base.html.twig' %}

{% block title %}Accessoire{% endblock %}

{% block body %}

<div class="show-container">
    <h1><i class="fa-solid fa-icons"></i> Détails de l'Accessoire</h1>

    <div class="info-grid">
    
        {# Bloc Libelle #}
        <div class="info-item">
            <span class="info-label"><i class="fa-solid fa-tag"></i> Libelle</span>
            <span class="info-value">{{ accessoire.libelle }}</span>
        </div>

        {# --- NOUVEAU BLOC : INSTRUMENT ASSOCIÉ --- #}
        <div class="info-item">
            <span class="info-label"><i class="fa-solid fa-guitar"></i> Instrument associé</span>
            <span class="info-value">
                {% if accessoire.instrument %}
                    {# On crée un lien vers la fiche de l'instrument #}
                    <a href="{{ path('app_instrument_show', {'id': accessoire.instrument.id}) }}" 
                       style="text-decoration: none; color: var(--color-primary-accent); font-weight: bold;">
                        
                        {# On affiche le Numéro de Série #}
                        {{ accessoire.instrument.numSerie }}
                        
                        {# On ajoute Type et Marque en petit pour plus de détails #}
                        <small style="color: #7f8c8d; font-weight: normal;">
                            ({{ accessoire.instrument.typeInstrument.libelle ?? 'Type inconnu' }} 
                             - 
                             {{ accessoire.instrument.marque.libelle ?? 'Marque inconnue' }})
                        </small>
                    </a>
                {% else %}
                    <span style="color: #95a5a6; font-style: italic;">Aucun instrument associé (Stock libre)</span>
                {% endif %}
            </span>
        </div>
        {# ----------------------------------------- #}
        
    </div>

    <div class="actions">
        {# Bouton Retour #}
        <a href="{{ path('app_accessoire_index') }}" class="btn-action btn-back">
            <i class="fa-solid fa-arrow-left"></i> Retour à la liste
        </a>

        {# Bouton Modifier #}
        <a href="{{ path('app_accessoire_edit', {'id': accessoire.id}) }}" class="btn-action btn-edit">
            <i class="fa-solid fa-pen-to-square"></i> Modifier
        </a>

        {# Bouton Supprimer #}
        {{ include('accessoire/_delete_form.html.twig') }}
    </div>

</div>
{% endblock %}